version: 2

models:

  - name: mrt_alerting_stocks
    description: "Table analytics for the stock alerting by store and product. A criticity is add based on the most sold products by store"
    columns:
      - name: store_name
        description: "Name of the store"
        tests:
          - not_null

      - name: product_name
        description: "Name of the product"
        tests:
          - not_null

      - name: criticity
        description: "Secondary key to join products table"
        tests:
          - not_null
          - dbt_utils.expression_is_true:
              expression: "IN ('none', 'low', 'medium', 'high')"